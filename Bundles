-- LocalScript in StarterPlayer > StarterPlayerScripts

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

local UserInputService = game:GetService("UserInputService")

-- Settings
local walkSpeed = 16 -- default speed
local runSpeed = 32  -- running speed
local animationId = "rbxassetid://70636286183373"

-- Animation setup
local anim = Instance.new("Animation")
anim.AnimationId = animationId
local track = humanoid:LoadAnimation(anim)

-- Running state
local running = false

-- Input detection
UserInputService.InputBegan:Connect(function(input, gameProcessed)
	if gameProcessed then return end
	if input.KeyCode == Enum.KeyCode.LeftShift then
		if not running then
			running = true
			humanoid.WalkSpeed = runSpeed
			if not track.IsPlaying then
				track:Play()
			end
		end
	end
end)

UserInputService.InputEnded:Connect(function(input, gameProcessed)
	if input.KeyCode == Enum.KeyCode.LeftShift then
		if running then
			running = false
			humanoid.WalkSpeed = walkSpeed
			if track.IsPlaying then
				track:Stop()
			end
		end
	end
end)
